{"version":3,"file":"brightnesscontrast.js","names":["glsl","fs","brightnessContrast","name","uniformTypes","brightness","contrast","uniformPropTypes","format","value","min","max","passes","filter"],"sources":["../../../../src/modules/postprocessing/image-adjust-filters/brightnesscontrast.ts"],"sourcesContent":["// luma.gl, MIT license\n// Copyright (c) vis.gl contributors\n\nimport {ShaderPass} from '../../../lib/shader-module/shader-pass';\nimport {glsl} from '../../../lib/glsl-utils/highlight';\n\nconst fs = glsl`\\\n\nuniform brightnessContrastUniforms {\n  float brightness;\n  float contrast;\n} brightnessContrast;\n\nvec4 brightnessContrast_filterColor(vec4 color) {\n  color.rgb += brightnessContrast.brightness;\n  if (brightnessContrast.contrast > 0.0) {\n    color.rgb = (color.rgb - 0.5) / (1.0 - brightnessContrast.contrast) + 0.5;\n  } else {\n    color.rgb = (color.rgb - 0.5) * (1.0 + brightnessContrast.contrast) + 0.5;\n  }\n  return color;\n}\n\nvec4 brightnessContrast_filterColor(vec4 color, vec2 texSize, vec2 texCoords) {\n  return brightnessContrast_filterColor(color);\n}\n`;\n\nexport type BrightnessContrastProps = {\n  brightness?: number;\n  contrast?: number;\n};\n\n/**\n * Brightness / Contrast -\n * Provides additive brightness and multiplicative contrast control.\n * @param brightness -1 to 1 (-1 is solid black, 0 is no change, and 1 is solid white)\n * @param contrast   -1 to 1 (-1 is solid gray, 0 is no change, and 1 is maximum contrast)\n */\nexport const brightnessContrast: ShaderPass<BrightnessContrastProps> = {\n  name: 'brightnessContrast',\n  uniformTypes: {\n    brightness: 'f32',\n    contrast: 'f32'\n  },\n  uniformPropTypes: {\n    brightness: {format: 'f32', value: 0, min: -1, max: 1},\n    contrast: {format: 'f32', value: 0, min: -1, max: 1}\n  },\n  fs,\n  passes: [{filter: true}]\n};\n"],"mappings":"SAIQA,IAAI;AAEZ,MAAMC,EAAE,GAAGD,IAAK;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAaD,OAAO,MAAME,kBAAuD,GAAG;EACrEC,IAAI,EAAE,oBAAoB;EAC1BC,YAAY,EAAE;IACZC,UAAU,EAAE,KAAK;IACjBC,QAAQ,EAAE;EACZ,CAAC;EACDC,gBAAgB,EAAE;IAChBF,UAAU,EAAE;MAACG,MAAM,EAAE,KAAK;MAAEC,KAAK,EAAE,CAAC;MAAEC,GAAG,EAAE,CAAC,CAAC;MAAEC,GAAG,EAAE;IAAC,CAAC;IACtDL,QAAQ,EAAE;MAACE,MAAM,EAAE,KAAK;MAAEC,KAAK,EAAE,CAAC;MAAEC,GAAG,EAAE,CAAC,CAAC;MAAEC,GAAG,EAAE;IAAC;EACrD,CAAC;EACDV,EAAE;EACFW,MAAM,EAAE,CAAC;IAACC,MAAM,EAAE;EAAI,CAAC;AACzB,CAAC"}
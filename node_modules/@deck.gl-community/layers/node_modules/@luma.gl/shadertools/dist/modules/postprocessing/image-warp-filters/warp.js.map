{"version":3,"file":"warp.js","names":["glsl","fs","warp","name","passes"],"sources":["../../../../src/modules/postprocessing/image-warp-filters/warp.ts"],"sourcesContent":["// luma.gl, MIT license\n// Copyright (c) vis.gl contributors\n\nimport {ShaderPass} from '../../../lib/shader-module/shader-pass';\nimport {glsl} from '../../../lib/glsl-utils/highlight';\n\nconst fs = glsl`\\\nvec4 warp_sampleColor(sampler2D source, vec2 texSize, vec2 coord) {\n  vec4 color = texture(source, coord / texSize);\n  vec2 clampedCoord = clamp(coord, vec2(0.0), texSize);\n  if (coord != clampedCoord) {\n    /* fade to transparent if we are outside the image */\n    color.a *= max(0.0, 1.0 - length(coord - clampedCoord));\n  }\n\n  return color;\n}\n`;\n\nexport type WarpProps = {};\n\nexport const warp: ShaderPass<WarpProps, WarpProps> = {\n  name: 'warp',\n  passes: [],\n  fs\n};\n"],"mappings":"SAIQA,IAAI;AAEZ,MAAMC,EAAE,GAAGD,IAAK;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAID,OAAO,MAAME,IAAsC,GAAG;EACpDC,IAAI,EAAE,MAAM;EACZC,MAAM,EAAE,EAAE;EACVH;AACF,CAAC"}